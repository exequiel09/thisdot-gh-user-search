(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,r){e.exports=r("zUnb")},zUnb:function(e,t,r){"use strict";r.r(t);var c=r("fXoL");var n=r("tk/3"),i=r("jhN1"),a=r("R1ws"),s=r("8MG2"),o=r("J4O8"),b=r("ofXK");let l=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(t){return new(t||e)},imports:[[b.c,s.a]]}),e})();var u=r("tyNb"),g=r("Muja"),d=r("XNiG"),p=r("LRne"),h=r("3UWI"),f=r("/uUt"),O=r("zp1y"),m=r("lJxs"),v=r("vkgz"),P=r("pLZG"),_=r("eIep"),w=r("JIr8"),j=r("UXun"),y=r("wO+i"),x=r("Vfgr");let $=(()=>{class e{constructor(e){this._httpClient=e}getUsers(e){let t=new n.d;return t=t.append("q",e.q),t=t.append("page",e.page.toString()),t=t.append("per_page",e.limit.toString()),this._httpClient.get("https://api.github.com/search/users",{params:t})}getUser(e){return this._httpClient.get(e,Object(o.b)({withCache$:!1,ttl$:4e4}))}getPreformattedPaginatedData(e){const t=Object(o.b)({withCache$:!1,ttl$:4e4,per_page:1});return this._httpClient.get(e,Object.assign(Object.assign({},t),{observe:"response"})).pipe(Object(m.a)(e=>{var t;let r=0;if(null!==e.headers.get("link")){const[,c]=e.headers.get("link").split(","),[n]=Object(x.a)(c).split(";");r=+(null!==(t=new URL(Object(x.a)(n,"<>")).searchParams.get("page"))&&void 0!==t?t:"0")}return{incomplete_results:!1,total_count:r,items:[...e.body]}}))}}return e.\u0275fac=function(t){return new(t||e)(c.Tb(n.b))},e.\u0275prov=c.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var I=r("VRyK"),k=r("cp0P"),D=r("1G5W"),C=r("ZkxR");let G=(()=>{class e{transform(e){return e.startsWith("http://")||e.startsWith("https://")?e:"https://"+e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Ib({name:"url",type:e,pure:!0}),e})();function R(e,t){1&e&&(c.Pb(0,"clr-alert",9),c.Pb(1,"clr-alert-item"),c.Pb(2,"span",10),c.vc(3,"Fetching user details failed."),c.Ob(),c.Ob(),c.Ob()),2&e&&c.ec("clrAlertType","danger")}function S(e,t){if(1&e&&(c.Nb(0),c.tc(1,R,4,1,"clr-alert",8),c.Mb()),2&e){const e=t.ngIf;c.xb(1),c.ec("ngIf",e)}}function U(e,t){if(1&e&&(c.Nb(0),c.Pb(1,"dt",12),c.vc(2,"Name"),c.Ob(),c.Pb(3,"dd",13),c.vc(4),c.Ob(),c.Mb()),2&e){const e=c.Zb().ngIf;c.xb(4),c.wc(null==e?null:e.name)}}function z(e,t){if(1&e&&(c.Nb(0),c.Pb(1,"dt",12),c.vc(2,"Location"),c.Ob(),c.Pb(3,"dd",13),c.vc(4),c.Ob(),c.Mb()),2&e){const e=c.Zb().ngIf;c.xb(4),c.wc(null==e?null:e.location)}}function q(e,t){if(1&e&&(c.Nb(0),c.Pb(1,"dt",12),c.vc(2,"Company"),c.Ob(),c.Pb(3,"dd",13),c.vc(4),c.Ob(),c.Mb()),2&e){const e=c.Zb().ngIf;c.xb(4),c.wc(null==e?null:e.company)}}function F(e,t){if(1&e&&(c.Nb(0),c.Pb(1,"dt",12),c.vc(2,"Bio"),c.Ob(),c.Pb(3,"dd",13),c.vc(4),c.Ob(),c.Mb()),2&e){const e=c.Zb().ngIf;c.xb(4),c.wc(null==e?null:e.bio)}}function M(e,t){if(1&e&&(c.Nb(0),c.Pb(1,"dt",12),c.vc(2,"Blog"),c.Ob(),c.Pb(3,"dd",13),c.Pb(4,"a",14),c.ac(5,"url"),c.vc(6),c.Ob(),c.Ob(),c.Mb()),2&e){const e=c.Zb().ngIf;c.xb(4),c.ec("href",c.bc(5,2,null==e?null:e.blog),c.oc),c.xb(2),c.wc(null==e?null:e.blog)}}function N(e,t){if(1&e&&(c.Nb(0),c.Pb(1,"dt",12),c.vc(2,"Star Count"),c.Ob(),c.Pb(3,"dd",13),c.vc(4),c.Ob(),c.Mb()),2&e){const e=c.Zb().ngIf;c.xb(4),c.wc(null==e?null:e.stars)}}function J(e,t){if(1&e&&(c.Nb(0),c.Pb(1,"dt",12),c.vc(2,"Follower Count"),c.Ob(),c.Pb(3,"dd",13),c.vc(4),c.Ob(),c.Mb()),2&e){const e=c.Zb().ngIf;c.xb(4),c.wc(null==e?null:e.followers)}}function A(e,t){if(1&e&&(c.Nb(0),c.Pb(1,"dt",12),c.vc(2,"Public Gists Count"),c.Ob(),c.Pb(3,"dd",13),c.vc(4),c.Ob(),c.Mb()),2&e){const e=c.Zb().ngIf;c.xb(4),c.wc(null==e?null:e.public_gists)}}function L(e,t){if(1&e&&(c.Pb(0,"dl",11),c.tc(1,U,5,1,"ng-container",6),c.tc(2,z,5,1,"ng-container",6),c.tc(3,q,5,1,"ng-container",6),c.tc(4,F,5,1,"ng-container",6),c.tc(5,M,7,4,"ng-container",6),c.tc(6,N,5,1,"ng-container",6),c.tc(7,J,5,1,"ng-container",6),c.tc(8,A,5,1,"ng-container",6),c.Ob()),2&e){const e=t.ngIf;c.xb(1),c.ec("ngIf",!(null==e||!e.name)),c.xb(1),c.ec("ngIf",!(null==e||!e.location)),c.xb(1),c.ec("ngIf",!(null==e||!e.company)),c.xb(1),c.ec("ngIf",!(null==e||!e.bio)),c.xb(1),c.ec("ngIf",!(null==e||!e.blog)),c.xb(1),c.ec("ngIf",!(null==e||!e.stars)),c.xb(1),c.ec("ngIf",!(null==e||!e.followers)),c.xb(1),c.ec("ngIf",!(null==e||!e.public_gists))}}const Z={initialInterval:60,maxRetries:3,shouldRetry:e=>403!==e.status||"rate limit exceeded"!==e.statusText.trim().toLowerCase()};let T=(()=>{class e{constructor(e,t){this._cdr=e,this._githubApiService=t,this.loading=!0,this._errored$=new d.a,this._info$=new d.a,this._unsubscribe$=new d.a,this.errored$=this._errored$.asObservable().pipe(Object(j.a)(1)),this.info$=this._info$.asObservable().pipe(Object(j.a)(1)),Object(I.a)(this.info$,this.errored$).pipe(Object(v.a)(()=>{this.loading=!1,this._cdr.markForCheck()}),Object(D.a)(this._unsubscribe$)).subscribe()}ngOnDestroy(){this._errored$.complete(),this._info$.complete(),this._unsubscribe$.next(),this._unsubscribe$.complete()}ngOnInit(){const e=this._githubApiService.getUser(this.user.url).pipe(Object(C.a)(Z)),t=this._githubApiService.getPreformattedPaginatedData((r=this.user.starred_url,r.replace(/\{\/[a-z0-9]+\}/g,""))).pipe(Object(C.a)(Z));var r;Object(k.a)([e,t]).pipe(Object(m.a)(([e,t])=>Object.assign(Object.assign({},e),{stars:t.total_count})),Object(w.a)(()=>Object(p.a)(null)),Object(D.a)(this._unsubscribe$)).subscribe(e=>{null===e?this._errored$.next(!0):this._info$.next(e)})}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(c.h),c.Jb($))},e.\u0275cmp=c.Db({type:e,selectors:[["tdgh-user-detail"]],inputs:{user:"user"},decls:10,vars:9,consts:[[3,"clrLoading"],[3,"clrDgReplace"],[1,"clr-row","row-detail"],[1,"clr-col-12","clr-col-md-3"],[1,"user-avatar",3,"src"],[1,"clr-col-12","clr-col-md-9"],[4,"ngIf"],["class","clr-row mt-0",4,"ngIf"],["class","mb-3",3,"clrAlertType",4,"ngIf"],[1,"mb-3",3,"clrAlertType"],[1,"alert-text"],[1,"clr-row","mt-0"],[1,"clr-col-sm-3"],[1,"clr-col-sm-9"],["rel","noreferrer noopener","target","_blank",3,"href"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.Pb(1,"clr-dg-row-detail",1),c.Pb(2,"div",2),c.Pb(3,"div",3),c.Kb(4,"img",4),c.Ob(),c.Pb(5,"div",5),c.tc(6,S,2,1,"ng-container",6),c.ac(7,"async"),c.tc(8,L,9,8,"dl",7),c.ac(9,"async"),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.ec("clrLoading",t.loading),c.xb(1),c.ec("clrDgReplace",!0),c.xb(3),c.ec("src",t.user.avatar_url,c.oc),c.xb(2),c.ec("ngIf",c.bc(7,5,t.errored$)),c.xb(2),c.ec("ngIf",c.bc(9,7,t.info$)))},directives:[s.s,s.o,s.z,b.m,s.b,s.c,s.d],pipes:[b.b,G],styles:["[_nghost-%COMP%]{display:block;width:100%}"],changeDetection:0}),e})();function H(e,t){if(1&e&&c.Kb(0,"tdgh-user-detail",10),2&e){const e=c.Zb().$implicit;c.ec("user",e)}}function B(e,t){if(1&e&&(c.Pb(0,"clr-dg-row"),c.Pb(1,"clr-dg-action-overflow"),c.Pb(2,"a",6),c.vc(3,"View in GitHub"),c.Ob(),c.Pb(4,"a",6),c.vc(5,"View in GitHub API"),c.Ob(),c.Ob(),c.Pb(6,"clr-dg-cell"),c.Kb(7,"img",7),c.Pb(8,"a",8),c.vc(9),c.Ob(),c.Ob(),c.tc(10,H,1,1,"tdgh-user-detail",9),c.Ob()),2&e){const e=t.$implicit;c.xb(2),c.ec("href",e.html_url,c.oc),c.xb(2),c.ec("href",e.url,c.oc),c.xb(3),c.ec("src",e.avatar_url,c.oc),c.xb(1),c.ec("href",e.html_url,c.oc),c.xb(1),c.xc(" ",e.login," ")}}const K=function(){return[10,20,50,100]},X=[{path:"",component:(()=>{class e{constructor(e,t,r,c){this._activatedRoute=e,this._cdr=t,this._router=r,this._githubApiService=c,this.page=1,this.perPage=20,this.loading=!1,this._refreshDataGrid$=new d.a,this.refreshDataGrid$=this._refreshDataGrid$.asObservable(),this.refreshDataGrid$.pipe(Object(h.a)(500),Object(f.a)(g.a),Object(O.a)(this._activatedRoute.queryParams),Object(m.a)(([e,t])=>{const r={};return void 0!==e.filters&&e.filters.length>0?r.q=e.filters[0].value:void 0!==t.q&&(r.q=t.q),void 0!==e.page&&(r.page=e.page.current,r.limit=e.page.size),r}),Object(v.a)(e=>{var t,r;this.page=null!==(t=e.page)&&void 0!==t?t:1,this.perPage=null!==(r=e.limit)&&void 0!==r?r:20,this._cdr.markForCheck()}),Object(P.a)(e=>Object.keys(e).length>0)).subscribe(e=>{this._router.navigate(["/"],{queryParams:e})}),this._response$=this._activatedRoute.queryParams.pipe(Object(P.a)(e=>Object.keys(e).length>0&&void 0!==e.q&&""!==e.q.trim()),Object(v.a)(()=>{this.loading=!0,this._cdr.markForCheck()}),Object(_.a)(e=>{const t=Object.assign({},e);return void 0===t.page&&(t.page=this.page),void 0===t.limit&&(t.limit=this.perPage),this._githubApiService.getUsers(t).pipe(Object(w.a)(()=>Object(p.a)({total_count:0,incomplete_results:!1,items:[]})),Object(v.a)(()=>{this.loading=!1,this._cdr.markForCheck()}))}),Object(j.a)({bufferSize:1,refCount:!0})),this.user$=this._response$.pipe(Object(y.a)("items")),this.totalItem$=this._response$.pipe(Object(y.a)("total_count"))}ngOnInit(){}refreshDataGrid(e){this._refreshDataGrid$.next(e)}trackByUser(e){return e.id}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(u.a),c.Jb(c.h),c.Jb(u.b),c.Jb($))},e.\u0275cmp=c.Db({type:e,selectors:[["ng-component"]],decls:14,vars:16,consts:[[3,"clrDgLoading","clrDgRefresh"],[3,"clrDgField"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"clrDgPage","clrDgPageSize","clrDgTotalItems"],["pagination",""],[3,"clrPageSizeOptions"],["rel","noreferrer noopener","target","_blank",1,"action-item",3,"href"],[1,"user-avatar","-small",3,"src"],["rel","noreferrer noopener","target","_blank",1,"d-inline-block","ml-3",3,"href"],["ngProjectAs","clr-dg-row-detail",5,["clr-dg-row-detail"],3,"user",4,"clrIfExpanded"],["ngProjectAs","clr-dg-row-detail",5,["clr-dg-row-detail"],3,"user"]],template:function(e,t){if(1&e&&(c.Pb(0,"clr-datagrid",0),c.Xb("clrDgRefresh",(function(e){return t.refreshDataGrid(e)})),c.Pb(1,"clr-dg-column",1),c.vc(2,"Username"),c.Ob(),c.Pb(3,"clr-dg-placeholder"),c.vc(4,"We couldn't find any users!"),c.Ob(),c.tc(5,B,11,5,"clr-dg-row",2),c.ac(6,"async"),c.Pb(7,"clr-dg-footer"),c.Pb(8,"clr-dg-pagination",3,4),c.ac(10,"async"),c.Pb(11,"clr-dg-page-size",5),c.vc(12,"Users per page"),c.Ob(),c.vc(13),c.Ob(),c.Ob(),c.Ob()),2&e){const e=c.kc(9);c.ec("clrDgLoading",t.loading),c.xb(1),c.ec("clrDgField","login"),c.xb(4),c.ec("ngForOf",c.bc(6,11,t.user$))("ngForTrackBy",t.trackByUser),c.xb(3),c.ec("clrDgPage",t.page)("clrDgPageSize",t.perPage)("clrDgTotalItems",c.bc(10,13,t.totalItem$)),c.xb(3),c.ec("clrPageSizeOptions",c.hc(15,K)),c.xb(2),c.zc(" ",e.firstItem+1," - ",e.lastItem+1," of ",e.totalItems," users ")}},directives:[s.e,s.x,s.B,s.C,s.D,s.h,s.y,s.m,b.l,s.j,s.i,s.l,s.k,s.n,s.z,s.f,s.g,s.A,s.w,s.q,T],pipes:[b.b],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),e})()}];let Q=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(t){return new(t||e)},imports:[[u.d.forRoot(X)],u.d]}),e})();var W=r("Kj3r");let V=(()=>{class e{constructor(e,t){this._activatedRoute=e,this._router=t,this._searchQuery$=new d.a,this.searchQuery$=this._searchQuery$.asObservable(),this._searchQuery$.pipe(Object(W.a)(300),Object(f.a)(),Object(P.a)(e=>""!==e.trim()),Object(O.a)(this._activatedRoute.queryParams)).subscribe(([e,t])=>{this._router.navigate(["/"],{queryParams:Object.assign(Object.assign({},t),{q:e})})})}onSearch(e){this._searchQuery$.next(e.target.value)}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(u.a),c.Jb(u.b))},e.\u0275cmp=c.Db({type:e,selectors:[["tdgh-root"]],decls:16,vars:0,consts:[[1,"header-5"],[1,"branding"],[1,"clr-hidden-xs-up"],["routerLink","/",1,"nav-link"],[1,"title","clr-hidden-xs-down"],[1,"title","clr-hidden-sm-up"],[1,"search",3,"submit"],["for","search_input"],["id","search_input","type","text","placeholder","Search for users...",3,"keyup"],[1,"content-container"],["role","main",1,"content-area"]],template:function(e,t){1&e&&(c.Pb(0,"clr-main-container"),c.Pb(1,"clr-header",0),c.Pb(2,"div",1),c.Pb(3,"h1",2),c.vc(4,"GH User Search"),c.Ob(),c.Pb(5,"a",3),c.Pb(6,"span",4),c.vc(7,"GH User Search"),c.Ob(),c.Pb(8,"span",5),c.vc(9,"GH"),c.Ob(),c.Ob(),c.Ob(),c.Pb(10,"form",6),c.Xb("submit",(function(){return!1})),c.Pb(11,"label",7),c.Pb(12,"input",8),c.Xb("keyup",(function(e){return t.onSearch(e)})),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(13,"div",9),c.Pb(14,"main",10),c.Kb(15,"router-outlet"),c.Ob(),c.Ob(),c.Ob())},directives:[s.t,s.u,s.p,s.v,u.c,s.r,u.e],styles:[""]}),e})(),E=(()=>{class e{}return e.\u0275mod=c.Hb({type:e,bootstrap:[V]}),e.\u0275inj=c.Gb({factory:function(t){return new(t||e)},providers:[],imports:[[i.a,a.a,n.c,s.a,o.a.forRoot({strategy:"explicit"}),l,Q]]}),e})();Object(c.R)(),i.b().bootstrapModule(E).catch(e=>console.error(e))},zn8P:function(e,t){function r(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id="zn8P"}},[[0,0,4]]]);