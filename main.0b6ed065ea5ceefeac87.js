(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,r){e.exports=r("zUnb")},zUnb:function(e,t,r){"use strict";r.r(t);var c=r("fXoL");var n=r("tk/3"),i=r("jhN1"),a=r("R1ws"),s=r("8MG2"),l=r("J4O8"),o=r("ofXK");let b=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(t){return new(t||e)},imports:[[o.c,s.a]]}),e})();var u=r("tyNb"),d=r("Muja"),p=r("XNiG"),g=r("LRne"),f=r("3UWI"),h=r("/uUt"),O=r("zp1y"),m=r("lJxs"),P=r("vkgz"),w=r("pLZG"),_=r("eIep"),v=r("JIr8"),x=r("UXun"),y=r("wO+i"),j=r("Vfgr");let $=(()=>{class e{constructor(e){this._httpClient=e}getUsers(e){let t=new n.d;return t=t.append("q",e.q),t=t.append("page",e.page.toString()),t=t.append("per_page",e.limit.toString()),this._httpClient.get("https://api.github.com/search/users",{params:t})}getUser(e){return this._httpClient.get(e,Object(l.b)({withCache$:!1,ttl$:4e4}))}getPreformattedPaginatedData(e){const t=Object(l.b)({withCache$:!1,ttl$:4e4,per_page:1});return this._httpClient.get(e,Object.assign(Object.assign({},t),{observe:"response"})).pipe(Object(m.a)(e=>({incomplete_results:!1,total_count:function(e){var t;if(null===e)return 0;const[,r]=e.split(","),[c]=Object(j.a)(r).split(";");return+(null!==(t=new URL(Object(j.a)(c,"<>")).searchParams.get("page"))&&void 0!==t?t:"0")}(e.headers.get("link")),items:[...e.body]})))}}return e.\u0275fac=function(t){return new(t||e)(c.Tb(n.b))},e.\u0275prov=c.Fb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var I=r("VRyK"),k=r("cp0P"),D=r("1G5W"),C=r("ZkxR");let A=(()=>{class e{transform(e,t="N/A"){return e||t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Ib({name:"defaultValue",type:e,pure:!0}),e})(),G=(()=>{class e{transform(e){return e.startsWith("http://")||e.startsWith("https://")?e:"https://"+e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Ib({name:"url",type:e,pure:!0}),e})();function R(e,t){1&e&&(c.Pb(0,"clr-alert",10),c.Pb(1,"clr-alert-item"),c.Pb(2,"span",11),c.wc(3,"Fetching user details failed."),c.Ob(),c.Ob(),c.Ob()),2&e&&c.fc("clrAlertType","danger")("clrAlertClosable",!1)}function S(e,t){if(1&e&&(c.Nb(0),c.uc(1,R,4,2,"clr-alert",9),c.Mb()),2&e){const e=t.ngIf;c.xb(1),c.fc("ngIf",e)}}function U(e,t){if(1&e&&(c.Nb(0),c.Pb(1,"dt",13),c.wc(2,"Bio"),c.Ob(),c.Pb(3,"dd",14),c.wc(4),c.Ob(),c.Mb()),2&e){const e=c.Zb().ngIf;c.xb(4),c.xc(null==e?null:e.bio)}}function q(e,t){if(1&e&&(c.Nb(0),c.Pb(1,"dt",13),c.wc(2,"Blog"),c.Ob(),c.Pb(3,"dd",14),c.Pb(4,"a",15),c.ac(5,"url"),c.wc(6),c.Ob(),c.Ob(),c.Mb()),2&e){const e=c.Zb().ngIf;c.xb(4),c.fc("href",c.bc(5,2,null==e?null:e.blog),c.pc),c.xb(2),c.xc(null==e?null:e.blog)}}function z(e,t){if(1&e&&(c.Nb(0),c.Pb(1,"dt",13),c.wc(2,"Star Count"),c.Ob(),c.Pb(3,"dd",14),c.wc(4),c.Ob(),c.Mb()),2&e){const e=c.Zb().ngIf;c.xb(4),c.xc(null==e?null:e.stars)}}function N(e,t){if(1&e&&(c.Nb(0),c.Pb(1,"dt",13),c.wc(2,"Follower Count"),c.Ob(),c.Pb(3,"dd",14),c.wc(4),c.Ob(),c.Mb()),2&e){const e=c.Zb().ngIf;c.xb(4),c.xc(null==e?null:e.followers)}}function F(e,t){if(1&e&&(c.Nb(0),c.Pb(1,"dt",13),c.wc(2,"Public Gists Count"),c.Ob(),c.Pb(3,"dd",14),c.wc(4),c.Ob(),c.Mb()),2&e){const e=c.Zb().ngIf;c.xb(4),c.xc(null==e?null:e.public_gists)}}function J(e,t){if(1&e&&(c.Pb(0,"dl",12),c.Pb(1,"dt",13),c.wc(2,"Name"),c.Ob(),c.Pb(3,"dd",14),c.wc(4),c.ac(5,"defaultValue"),c.Ob(),c.Pb(6,"dt",13),c.wc(7,"Location"),c.Ob(),c.Pb(8,"dd",14),c.wc(9),c.ac(10,"defaultValue"),c.Ob(),c.Pb(11,"dt",13),c.wc(12,"Company"),c.Ob(),c.Pb(13,"dd",14),c.wc(14),c.ac(15,"defaultValue"),c.Ob(),c.uc(16,U,5,1,"ng-container",7),c.uc(17,q,7,4,"ng-container",7),c.uc(18,z,5,1,"ng-container",7),c.uc(19,N,5,1,"ng-container",7),c.uc(20,F,5,1,"ng-container",7),c.Ob()),2&e){const e=t.ngIf;c.xb(4),c.xc(c.cc(5,8,null==e?null:e.name,"N/A")),c.xb(5),c.xc(c.cc(10,11,null==e?null:e.location,"N/A")),c.xb(5),c.xc(c.cc(15,14,null==e?null:e.company,"N/A")),c.xb(2),c.fc("ngIf",!(null==e||!e.bio)),c.xb(1),c.fc("ngIf",!(null==e||!e.blog)),c.xb(1),c.fc("ngIf",!(null==e||!e.stars)),c.xb(1),c.fc("ngIf",!(null==e||!e.followers)),c.xb(1),c.fc("ngIf",!(null==e||!e.public_gists))}}function L(e,t){if(1&e&&(c.Pb(0,"clr-dg-row-detail",2),c.Pb(1,"div",3),c.Pb(2,"div",4),c.Kb(3,"img",5),c.Ob(),c.Pb(4,"div",6),c.uc(5,S,2,1,"ng-container",7),c.ac(6,"async"),c.uc(7,J,21,17,"dl",8),c.ac(8,"async"),c.Ob(),c.Ob(),c.Ob()),2&e){const e=c.Zb();c.fc("clrDgReplace",!0),c.xb(3),c.fc("src",e.user.avatar_url,c.pc),c.xb(2),c.fc("ngIf",c.bc(6,4,e.errored$)),c.xb(2),c.fc("ngIf",c.bc(8,6,e.info$))}}const M={initialInterval:60,maxRetries:3,shouldRetry:e=>403!==e.status||"rate limit exceeded"!==e.statusText.trim().toLowerCase()};let T=(()=>{class e{constructor(e,t){this._cdr=e,this._githubApiService=t,this.loading=!0,this._errored$=new p.a,this._info$=new p.a,this._unsubscribe$=new p.a,this.errored$=this._errored$.asObservable().pipe(Object(x.a)(1)),this.info$=this._info$.asObservable().pipe(Object(x.a)(1)),Object(I.a)(this.info$,this.errored$).pipe(Object(P.a)(()=>{this.loading=!1,this._cdr.markForCheck()}),Object(D.a)(this._unsubscribe$)).subscribe()}ngOnChanges(e){e.user.currentValue&&this.detail&&this.detail.length>0&&(this.detail.first.expand.expanded=!1)}ngOnDestroy(){this._errored$.complete(),this._info$.complete(),this._unsubscribe$.next(),this._unsubscribe$.complete()}ngOnInit(){const e=this._githubApiService.getUser(this.user.url).pipe(Object(C.a)(M)),t=this._githubApiService.getPreformattedPaginatedData((r=this.user.starred_url,r.replace(/\{\/[a-z0-9\_]+\}/g,""))).pipe(Object(C.a)(M));var r;Object(k.a)([e,t]).pipe(Object(m.a)(([e,t])=>Object.assign(Object.assign({},e),{stars:t.total_count})),Object(v.a)(()=>Object(g.a)(null)),Object(D.a)(this._unsubscribe$)).subscribe(e=>{null===e?this._errored$.next(!0):this._info$.next(e)})}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(c.h),c.Jb($))},e.\u0275cmp=c.Db({type:e,selectors:[["tdgh-user-detail"]],viewQuery:function(e,t){var r;1&e&&c.Cc(s.o,!0),2&e&&c.kc(r=c.Yb())&&(t.detail=r)},inputs:{user:"user"},features:[c.vb],decls:2,vars:1,consts:[[3,"clrLoading"],[3,"clrDgReplace",4,"clrIfExpanded"],[3,"clrDgReplace"],[1,"clr-row","row-detail"],[1,"clr-col-12","clr-col-md-3"],[1,"user-avatar",3,"src"],[1,"clr-col-12","clr-col-md-9"],[4,"ngIf"],["class","clr-row mt-0",4,"ngIf"],["class","mb-3",3,"clrAlertType","clrAlertClosable",4,"ngIf"],[1,"mb-3",3,"clrAlertType","clrAlertClosable"],[1,"alert-text"],[1,"clr-row","mt-0"],[1,"clr-col-sm-3"],[1,"clr-col-sm-9"],["rel","noreferrer noopener","target","_blank",3,"href"]],template:function(e,t){1&e&&(c.Pb(0,"div",0),c.uc(1,L,9,8,"clr-dg-row-detail",1),c.Ob()),2&e&&c.fc("clrLoading",t.loading)},directives:[s.s,s.w,s.q,s.o,s.z,o.m,s.b,s.c,s.d],pipes:[o.b,A,G],styles:["[_nghost-%COMP%]{display:block;width:100%}"],changeDetection:0}),e})();function V(e,t){if(1&e&&c.Kb(0,"tdgh-user-detail",10),2&e){const e=c.Zb().$implicit;c.fc("user",e)}}function Z(e,t){if(1&e&&(c.Pb(0,"clr-dg-row"),c.Pb(1,"clr-dg-action-overflow"),c.Pb(2,"a",6),c.wc(3,"View in GitHub"),c.Ob(),c.Pb(4,"a",6),c.wc(5,"View in GitHub API"),c.Ob(),c.Ob(),c.Pb(6,"clr-dg-cell"),c.Kb(7,"img",7),c.Pb(8,"a",8),c.wc(9),c.Ob(),c.Ob(),c.uc(10,V,1,1,"tdgh-user-detail",9),c.Ob()),2&e){const e=t.$implicit;c.xb(2),c.fc("href",e.html_url,c.pc),c.xb(2),c.fc("href",e.url,c.pc),c.xb(3),c.fc("src",e.avatar_url,c.pc),c.xb(1),c.fc("href",e.html_url,c.pc),c.xb(1),c.yc(" ",e.login," ")}}const H=function(){return[10,20,50,100]},B=[{path:"",component:(()=>{class e{constructor(e,t,r,c){this._activatedRoute=e,this._cdr=t,this._router=r,this._githubApiService=c,this.page=1,this.perPage=20,this.loading=!1,this._refreshDataGrid$=new p.a,this.refreshDataGrid$=this._refreshDataGrid$.asObservable(),this.refreshDataGrid$.pipe(Object(f.a)(500),Object(h.a)(d.a),Object(O.a)(this._activatedRoute.queryParams),Object(m.a)(([e,t])=>{const r={};return void 0!==e.filters&&e.filters.length>0?r.q=e.filters[0].value:void 0!==t.q&&(r.q=t.q),void 0!==e.page&&(r.page=e.page.current,r.limit=e.page.size),r}),Object(P.a)(e=>{var t,r;this.page=null!==(t=e.page)&&void 0!==t?t:1,this.perPage=null!==(r=e.limit)&&void 0!==r?r:20,this._cdr.markForCheck()}),Object(w.a)(e=>Object.keys(e).length>0)).subscribe(e=>{this._router.navigate(["/"],{queryParams:e})}),this._response$=this._activatedRoute.queryParams.pipe(Object(w.a)(e=>Object.keys(e).length>0&&void 0!==e.q&&""!==e.q.trim()),Object(P.a)(()=>{this.loading=!0,this._cdr.markForCheck()}),Object(_.a)(e=>{const t=Object.assign({},e);return void 0===t.page&&(t.page=this.page),void 0===t.limit&&(t.limit=this.perPage),this._githubApiService.getUsers(t).pipe(Object(v.a)(()=>Object(g.a)({total_count:0,incomplete_results:!1,items:[]})),Object(P.a)(()=>{this.loading=!1,this._cdr.markForCheck()}))}),Object(x.a)({bufferSize:1,refCount:!0})),this.user$=this._response$.pipe(Object(y.a)("items")),this.totalItem$=this._response$.pipe(Object(y.a)("total_count"))}ngOnInit(){}refreshDataGrid(e){this._refreshDataGrid$.next(e)}trackByUser(e){return e.id}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(u.a),c.Jb(c.h),c.Jb(u.b),c.Jb($))},e.\u0275cmp=c.Db({type:e,selectors:[["ng-component"]],decls:14,vars:16,consts:[[3,"clrDgLoading","clrDgRefresh"],[3,"clrDgField"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"clrDgPage","clrDgPageSize","clrDgTotalItems"],["pagination",""],[3,"clrPageSizeOptions"],["rel","noreferrer noopener","target","_blank",1,"action-item",3,"href"],[1,"user-avatar","-small",3,"src"],["rel","noreferrer noopener","target","_blank",1,"d-inline-block","ml-3",3,"href"],["ngProjectAs","clr-dg-row-detail",5,["clr-dg-row-detail"],3,"user",4,"clrIfExpanded"],["ngProjectAs","clr-dg-row-detail",5,["clr-dg-row-detail"],3,"user"]],template:function(e,t){if(1&e&&(c.Pb(0,"clr-datagrid",0),c.Xb("clrDgRefresh",(function(e){return t.refreshDataGrid(e)})),c.Pb(1,"clr-dg-column",1),c.wc(2,"Username"),c.Ob(),c.Pb(3,"clr-dg-placeholder"),c.wc(4,"We couldn't find any users!"),c.Ob(),c.uc(5,Z,11,5,"clr-dg-row",2),c.ac(6,"async"),c.Pb(7,"clr-dg-footer"),c.Pb(8,"clr-dg-pagination",3,4),c.ac(10,"async"),c.Pb(11,"clr-dg-page-size",5),c.wc(12,"Users per page"),c.Ob(),c.wc(13),c.Ob(),c.Ob(),c.Ob()),2&e){const e=c.lc(9);c.fc("clrDgLoading",t.loading),c.xb(1),c.fc("clrDgField","login"),c.xb(4),c.fc("ngForOf",c.bc(6,11,t.user$))("ngForTrackBy",t.trackByUser),c.xb(3),c.fc("clrDgPage",t.page)("clrDgPageSize",t.perPage)("clrDgTotalItems",c.bc(10,13,t.totalItem$)),c.xb(3),c.fc("clrPageSizeOptions",c.ic(15,H)),c.xb(2),c.Ac(" ",e.firstItem+1," - ",e.lastItem+1," of ",e.totalItems," users ")}},directives:[s.e,s.x,s.B,s.C,s.D,s.h,s.y,s.m,o.l,s.j,s.i,s.l,s.k,s.n,s.z,s.f,s.g,s.A,s.w,s.q,T],pipes:[o.b],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),e})()}];let K=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(t){return new(t||e)},imports:[[u.d.forRoot(B)],u.d]}),e})();var X=r("Kj3r");let Q=(()=>{class e{constructor(e,t){this._activatedRoute=e,this._router=t,this._searchQuery$=new p.a,this.searchQuery$=this._searchQuery$.asObservable(),this._searchQuery$.pipe(Object(X.a)(300),Object(h.a)(),Object(w.a)(e=>""!==e.trim()),Object(O.a)(this._activatedRoute.queryParams)).subscribe(([e,t])=>{this._router.navigate(["/"],{queryParams:Object.assign(Object.assign({},t),{q:e})})})}onSearch(e){this._searchQuery$.next(e.target.value)}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(u.a),c.Jb(u.b))},e.\u0275cmp=c.Db({type:e,selectors:[["tdgh-root"]],decls:16,vars:0,consts:[[1,"header-5"],[1,"branding"],[1,"clr-hidden-xs-up"],["routerLink","/",1,"nav-link"],[1,"title","clr-hidden-xs-down"],[1,"title","clr-hidden-sm-up"],[1,"search",3,"submit"],["for","search_input"],["id","search_input","type","text","placeholder","Search for users...",3,"keyup"],[1,"content-container"],["role","main",1,"content-area"]],template:function(e,t){1&e&&(c.Pb(0,"clr-main-container"),c.Pb(1,"clr-header",0),c.Pb(2,"div",1),c.Pb(3,"h1",2),c.wc(4,"GH User Search"),c.Ob(),c.Pb(5,"a",3),c.Pb(6,"span",4),c.wc(7,"GH User Search"),c.Ob(),c.Pb(8,"span",5),c.wc(9,"GH"),c.Ob(),c.Ob(),c.Ob(),c.Pb(10,"form",6),c.Xb("submit",(function(){return!1})),c.Pb(11,"label",7),c.Pb(12,"input",8),c.Xb("keyup",(function(e){return t.onSearch(e)})),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(13,"div",9),c.Pb(14,"main",10),c.Kb(15,"router-outlet"),c.Ob(),c.Ob(),c.Ob())},directives:[s.t,s.u,s.p,s.v,u.c,s.r,u.e],styles:[""]}),e})(),W=(()=>{class e{}return e.\u0275mod=c.Hb({type:e,bootstrap:[Q]}),e.\u0275inj=c.Gb({factory:function(t){return new(t||e)},providers:[],imports:[[i.a,a.a,n.c,s.a,l.a.forRoot({strategy:"explicit"}),b,K]]}),e})();Object(c.R)(),i.b().bootstrapModule(W).catch(e=>console.error(e))},zn8P:function(e,t){function r(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}r.keys=function(){return[]},r.resolve=r,e.exports=r,r.id="zn8P"}},[[0,0,4]]]);